:root{
  --bg1: #ffecd2;
  --bg2: #fcb69f;
  --accent1: #ff6b6b;
  --accent2: #6bffb8;
  --accent3: #6bd1ff;
  --text: #2b2b2b;
}

*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  font-family: 'Segoe UI', Roboto, system-ui, -apple-system, 'Helvetica Neue', Arial;
  color:var(--text);
}

body{
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}

.page{
  width:100%;
  max-width:980px;
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
  border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,0.12);
  padding:32px;
  text-align:center;
}

.title{
  font-size:3rem;
  margin:0;
  letter-spacing:1px;
  color:var(--accent1);
  text-shadow: 0 2px 0 rgba(0,0,0,0.05);
}
.subtitle{margin:8px 0 20px;color:#444}

.actions{margin:18px 0}
.btn{
  background: linear-gradient(90deg,var(--accent1),var(--accent3));
  border:none;
  color:white;
  padding:12px 20px;
  font-size:1.05rem;
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,0.12);
  transition:transform .14s ease, box-shadow .14s ease, opacity .14s ease;
}
.btn:active{transform:translateY(2px)}
.btn.secondary{background:transparent;color:var(--accent2);border:2px solid rgba(0,0,0,0.06)}

.stage{position:relative;min-height:320px;margin-top:22px}

.hidden{display:none}

/* Modal styles */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1200}
.modal .modal-content{width:320px;max-width:92%;background:white;padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,0.18);text-align:center}
.modal h2{margin:0 0 6px;font-size:1.25rem}
.modal .modal-text{color:#444;margin-bottom:10px}
.modal-input{width:100%;padding:8px 10px;border-radius:8px;border:1px solid #eee;margin-bottom:12px;font-size:1rem}
.modal-actions{display:flex;gap:10px;justify-content:center}
.modal .btn{padding:8px 14px;border-radius:8px}
.modal .btn.secondary{border:1px solid rgba(0,0,0,0.06);background:transparent;color:var(--accent2)}

/* Floating message animation */
.floating-message{
  position:fixed;
  bottom:18%;
  transform:translateY(0) translateX(-50%);
  padding:10px 16px;
  border-radius:14px;
  font-weight:700;
  font-size:1.05rem;
  box-shadow:0 8px 22px rgba(0,0,0,0.12);
  pointer-events:none;
  left:50%;
  white-space:nowrap;
  z-index:1300;
  animation:riseFade 2200ms cubic-bezier(.2,.9,.28,1) forwards;
}

@keyframes riseFade{
  0%{opacity:0; transform:translateY(0) scale(0.92) translateX(-50%)}
  10%{opacity:1; transform:translateY(-6px) scale(1.02) translateX(-50%)}
  70%{opacity:1; transform:translateY(-80px) scale(1) translateX(-50%)}
  100%{opacity:0; transform:translateY(-120px) scale(0.96) translateX(-50%)}
}

/* Subtle subtitle pulse when revealed */
.title.revealed{animation:pop 700ms cubic-bezier(.2,.9,.28,1)}
@keyframes pop{0%{transform:scale(.98)}40%{transform:scale(1.06)}100%{transform:scale(1)}}

/* Letter / envelope styles */
.letter-wrap{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1400}
.envelope{position:relative;width:420px;height:260px;display:flex;align-items:center;justify-content:center;}
.envelope .body{position:absolute;left:0;right:0;bottom:0;top:0;background:#fff3;border-radius:8px;box-shadow:0 12px 30px rgba(0,0,0,0.12);border:6px solid #ffe9d9}
.envelope .flap{position:absolute;left:0;right:0;top:-2px;height:120px;background:linear-gradient(180deg,#ffd9b6,#ffbdbd);clip-path:polygon(0 0,50% 100%,100% 0);transform-origin:50% 0;transition:transform .7s cubic-bezier(.2,.9,.28,1);z-index:5}
.envelope.open .flap{transform:rotateX(180deg) translateY(-36px);z-index:2}

.envelope .letter{position:absolute;left:14px;right:14px;top:26px;height:220px;background:white;border-radius:6px;padding:20px 18px;transform:translateY(8px);box-shadow:0 6px 18px rgba(0,0,0,0.06);overflow:auto;transition:transform .7s ease, opacity .5s ease;z-index:6}
.envelope.closed .letter{transform:translateY(60%);opacity:0}
.envelope.open .letter{transform:translateY(-8px);opacity:1}

.letter-inner{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center}
.wish-line{margin:0;font-weight:600;font-size:1rem;line-height:1.35;color:#444;word-break:break-word}
.wish-sign{font-family: 'Great Vibes', cursive, 'Brush Script MT', serif;margin-top:10px;font-size:1.9rem;color:#111}
.letter-actions{margin-top:14px;display:flex;gap:10px}

.letter-wrap.hidden{display:none}

/* Mute button styling */
#muteBtn{margin-left:10px}

/* Candle flicker animation */
@keyframes candleFlicker{
  0%{box-shadow:0 0 8px rgba(255,200,120,0.9); transform:translateY(0)}
  30%{box-shadow:0 0 12px rgba(255,210,140,1); transform:translateY(-1px)}
  60%{box-shadow:0 0 6px rgba(255,180,100,0.85); transform:translateY(0)}
  100%{box-shadow:0 0 10px rgba(255,200,120,0.95); transform:translateY(-0.5px)}
}
.cake.flicker .candle::after{animation:candleFlicker 900ms infinite ease-in-out}

/* Ensure letter/modal buttons have at least reasonable width on small screens */
.letter-actions .btn{min-width:92px}
.modal-actions .btn{min-width:92px}



/* Cake */
.cake{position:relative;margin:16px auto;width:260px;height:200px}
.plate{position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:320px;height:18px;background:#fff;border-radius:50%;box-shadow:0 6px 12px rgba(0,0,0,0.08)}
.layer{position:absolute;left:50%;transform:translateX(-50%);border-radius:12px}
.layer.bottom{bottom:24px;width:260px;height:80px;background:#ffbdbd}
.layer.top{bottom:86px;width:220px;height:60px;background:#ffd9b6}
.frosting{position:absolute;bottom:120px;left:50%;transform:translateX(-50%);width:220px;height:36px;border-radius:18px;background:linear-gradient(90deg,#fff7a6,#fff1f1);box-shadow:inset 0 -6px 12px rgba(0,0,0,0.04)}

.candles{position:absolute;bottom:160px;left:0;right:0;pointer-events:none}
.candle{position:absolute;width:8px;height:36px;background:#fff3;left:50%;transform:translateX(-50%);border-radius:4px;border:2px solid #ffd;box-shadow:0 2px 6px rgba(0,0,0,0.08)}
.candle::after{content:'';position:absolute;top:-12px;left:50%;transform:translateX(-50%);width:12px;height:12px;background:linear-gradient(90deg,#ffde7a,#ff8b8b);border-radius:50%;box-shadow:0 0 8px rgba(255,170,85,0.8)}

/* Balloons */
.balloons{position:absolute;left:8%;top:0;right:8%;height:320px;pointer-events:none}
.balloon{position:absolute;width:60px;height:80px;border-radius:50% 50% 45% 45%;opacity:0.95}
.b1{left:10%;background:linear-gradient(180deg,#ff9a9e,#fecfef);animation:float 6s ease-in-out infinite}
.b2{left:25%;background:linear-gradient(180deg,#a18cd1,#fbc2eb);animation:float 5.5s 0.2s infinite}
.b3{left:40%;background:linear-gradient(180deg,#f6d365,#fda085);animation:float 6.5s 0.1s infinite}
.b4{left:60%;background:linear-gradient(180deg,#84fab0,#8fd3f4);animation:float 5.8s 0.15s infinite}
.b5{left:80%;background:linear-gradient(180deg,#cfd9df,#e2ebf0);animation:float 6.2s 0.05s infinite}
.balloon::after{content:'';position:absolute;left:50%;bottom:-22px;width:2px;height:22px;background:#444;transform:translateX(-50%);opacity:0.18}

@keyframes float{
  0%{transform:translateY(0) translateX(0)}
  50%{transform:translateY(-28px) translateX(6px)}
  100%{transform:translateY(0) translateX(0)}
}

/* Confetti canvas full overlay */
.confetti{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}

.foot{margin-top:18px;color:#666;font-size:0.95rem}

/* Responsive */
@media (max-width:520px){
  .title{font-size:2rem}
  .cake{width:200px;height:150px}
  .plate{width:260px}
}
:root{
  --bg1: #ffecd2;
  --bg2: #fcb69f;
  --accent1: #ff6b6b;
  --accent2: #6bffb8;
  --accent3: #6bd1ff;
  --text: #2b2b2b;
}

*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  font-family: 'Segoe UI', Roboto, system-ui, -apple-system, 'Helvetica Neue', Arial;
  color:var(--text);
}

body{
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}

.page{
  width:100%;
  max-width:980px;
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
  border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,0.12);
  padding:32px;
  text-align:center;
}

.title{
  font-size:3rem;
  margin:0;
  letter-spacing:1px;
  color:var(--accent1);
  text-shadow: 0 2px 0 rgba(0,0,0,0.05);
}
.subtitle{margin:8px 0 20px;color:#444}

.actions{margin:18px 0}
.btn{
  background: linear-gradient(90deg,var(--accent1),var(--accent3));
  border:none;
  color:white;
  padding:12px 20px;
  font-size:1.05rem;
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,0.12);
  transition:transform .14s ease, box-shadow .14s ease, opacity .14s ease;
}
.btn:active{transform:translateY(2px)}
.btn.secondary{background:transparent;color:var(--accent2);border:2px solid rgba(0,0,0,0.06)}

.stage{position:relative;min-height:320px;margin-top:22px}

.hidden{display:none}

/* Cake */
.cake{position:relative;margin:16px auto;width:260px;height:200px}
.plate{position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:320px;height:18px;background:#fff;border-radius:50%;box-shadow:0 6px 12px rgba(0,0,0,0.08)}
.layer{position:absolute;left:50%;transform:translateX(-50%);border-radius:12px}
.layer.bottom{bottom:24px;width:260px;height:80px;background:#ffbdbd}
.layer.top{bottom:86px;width:220px;height:60px;background:#ffd9b6}
.frosting{position:absolute;bottom:120px;left:50%;transform:translateX(-50%);width:220px;height:36px;border-radius:18px;background:linear-gradient(90deg,#fff7a6,#fff1f1);box-shadow:inset 0 -6px 12px rgba(0,0,0,0.04)}

.candles{position:absolute;bottom:160px;left:0;right:0;pointer-events:none}
.candle{position:absolute;width:8px;height:36px;background:#fff3;left:50%;transform:translateX(-50%);border-radius:4px;border:2px solid #ffd;box-shadow:0 2px 6px rgba(0,0,0,0.08)}
.candle::after{content:'';position:absolute;top:-12px;left:50%;transform:translateX(-50%);width:12px;height:12px;background:linear-gradient(90deg,#ffde7a,#ff8b8b);border-radius:50%;box-shadow:0 0 8px rgba(255,170,85,0.8)}

/* Balloons */
.balloons{position:absolute;left:8%;top:0;right:8%;height:320px;pointer-events:none}
.balloon{position:absolute;width:60px;height:80px;border-radius:50% 50% 45% 45%;opacity:0.95}
.b1{left:10%;background:linear-gradient(180deg,#ff9a9e,#fecfef);animation:float 6s ease-in-out infinite}
.b2{left:25%;background:linear-gradient(180deg,#a18cd1,#fbc2eb);animation:float 5.5s 0.2s infinite}
.b3{left:40%;background:linear-gradient(180deg,#f6d365,#fda085);animation:float 6.5s 0.1s infinite}
.b4{left:60%;background:linear-gradient(180deg,#84fab0,#8fd3f4);animation:float 5.8s 0.15s infinite}
.b5{left:80%;background:linear-gradient(180deg,#cfd9df,#e2ebf0);animation:float 6.2s 0.05s infinite}
.balloon::after{content:'';position:absolute;left:50%;bottom:-22px;width:2px;height:22px;background:#444;transform:translateX(-50%);opacity:0.18}

@keyframes float{
  0%{transform:translateY(0) translateX(0)}
  50%{transform:translateY(-28px) translateX(6px)}
  100%{transform:translateY(0) translateX(0)}
}

/* Confetti canvas full overlay */
.confetti{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}

.foot{margin-top:18px;color:#666;font-size:0.95rem}

/* Responsive */
@media (max-width:520px){
  .title{font-size:2rem}
  .cake{width:200px;height:150px}
  .plate{width:260px}
}
:root{
    --bg1: #ffecd2;
    --bg2: #fcb69f;
    --accent1: #ff6b6b;
    --accent2: #6bffb8;
    --accent3: #6bd1ff;
    --text: #2b2b2b;
}

*{box-sizing:border-box}
html,body{
    height:100%;
    margin:0;
    font-family: 'Segoe UI', Roboto, system-ui, -apple-system, 'Helvetica Neue', Arial;
    color:var(--text);
}

body{
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
}

.page{
    width:100%;
    max-width:980px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
    border-radius:18px;
    box-shadow:0 10px 30px rgba(0,0,0,0.12);
    padding:32px;
    text-align:center;
}

.title{
    font-size:3rem;
    margin:0;
    letter-spacing:1px;
    color:var(--accent1);
    text-shadow: 0 2px 0 rgba(0,0,0,0.05);
}
.subtitle{margin:8px 0 20px;color:#444}

.actions{margin:18px 0}
.btn{
    background: linear-gradient(90deg,var(--accent1),var(--accent3));
    border:none;
    color:white;
    padding:12px 20px;
    font-size:1.05rem;
    border-radius:12px;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(0,0,0,0.12);
    transition:transform .14s ease, box-shadow .14s ease, opacity .14s ease;
}
.btn:active{transform:translateY(2px)}
.btn.secondary{background:transparent;color:var(--accent2);border:2px solid rgba(0,0,0,0.06)}

.stage{position:relative;min-height:320px;margin-top:22px}

.hidden{display:none}

/* Cake */
.cake{position:relative;margin:16px auto;width:260px;height:200px}
.plate{position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:320px;height:18px;background:#fff;border-radius:50%;box-shadow:0 6px 12px rgba(0,0,0,0.08)}
.layer{position:absolute;left:50%;transform:translateX(-50%);border-radius:12px}
.layer.bottom{bottom:24px;width:260px;height:80px;background:#ffbdbd}
.layer.top{bottom:86px;width:220px;height:60px;background:#ffd9b6}
.frosting{position:absolute;bottom:120px;left:50%;transform:translateX(-50%);width:220px;height:36px;border-radius:18px;background:linear-gradient(90deg,#fff7a6,#fff1f1);box-shadow:inset 0 -6px 12px rgba(0,0,0,0.04)}

.candles{position:absolute;bottom:160px;left:0;right:0;pointer-events:none}
.candle{position:absolute;width:8px;height:36px;background:#fff3;left:50%;transform:translateX(-50%);border-radius:4px;border:2px solid #ffd;box-shadow:0 2px 6px rgba(0,0,0,0.08)}
.candle::after{content:'';position:absolute;top:-12px;left:50%;transform:translateX(-50%);width:12px;height:12px;background:linear-gradient(90deg,#ffde7a,#ff8b8b);border-radius:50%;box-shadow:0 0 8px rgba(255,170,85,0.8)}

/* Balloons */
.balloons{position:absolute;left:8%;top:0;right:8%;height:320px;pointer-events:none}
.balloon{position:absolute;width:60px;height:80px;border-radius:50% 50% 45% 45%;opacity:0.95}
.b1{left:10%;background:linear-gradient(180deg,#ff9a9e,#fecfef);animation:float 6s ease-in-out infinite}
.b2{left:25%;background:linear-gradient(180deg,#a18cd1,#fbc2eb);animation:float 5.5s 0.2s infinite}
.b3{left:40%;background:linear-gradient(180deg,#f6d365,#fda085);animation:float 6.5s 0.1s infinite}
.b4{left:60%;background:linear-gradient(180deg,#84fab0,#8fd3f4);animation:float 5.8s 0.15s infinite}
.b5{left:80%;background:linear-gradient(180deg,#cfd9df,#e2ebf0);animation:float 6.2s 0.05s infinite}
.balloon::after{content:'';position:absolute;left:50%;bottom:-22px;width:2px;height:22px;background:#444;transform:translateX(-50%);opacity:0.18}

@keyframes float{
    0%{transform:translateY(0) translateX(0)}
    50%{transform:translateY(-28px) translateX(6px)}
    100%{transform:translateY(0) translateX(0)}
}

/* Confetti canvas full overlay */
.confetti{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}

.foot{margin-top:18px;color:#666;font-size:0.95rem}

/* Responsive */
@media (max-width:520px){
    .title{font-size:2rem}
    .cake{width:200px;height:150px}
    .plate{width:260px}
}
:root{
    --bg1: #ffecd2;
    --bg2: #fcb69f;
    --accent1: #ff6b6b;
    --accent2: #6bffb8;
    --accent3: #6bd1ff;
    --text: #2b2b2b;
}

*{box-sizing:border-box}
html,body{
    height:100%;
    margin:0;
    font-family: 'Segoe UI', Roboto, system-ui, -apple-system, 'Helvetica Neue', Arial;
    color:var(--text);
}

body{
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
}

.page{
    width:100%;
    max-width:980px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
    border-radius:18px;
    box-shadow:0 10px 30px rgba(0,0,0,0.12);
    padding:32px;
    text-align:center;
}

.title{
    font-size:3rem;
    margin:0;
    letter-spacing:1px;
    color:var(--accent1);
    text-shadow: 0 2px 0 rgba(0,0,0,0.05);
}
.subtitle{margin:8px 0 20px;color:#444}

.actions{margin:18px 0}
.btn{
    background: linear-gradient(90deg,var(--accent1),var(--accent3));
    border:none;
    color:white;
    padding:12px 20px;
    font-size:1.05rem;
    border-radius:12px;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(0,0,0,0.12);
    transition:transform .14s ease, box-shadow .14s ease, opacity .14s ease;
}
.btn:active{transform:translateY(2px)}
.btn.secondary{background:transparent;color:var(--accent2);border:2px solid rgba(0,0,0,0.06)}

.stage{position:relative;min-height:320px;margin-top:22px}

.hidden{display:none}

/* Cake */
.cake{position:relative;margin:16px auto;width:260px;height:200px}
.plate{position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:320px;height:18px;background:#fff;border-radius:50%;box-shadow:0 6px 12px rgba(0,0,0,0.08)}
.layer{position:absolute;left:50%;transform:translateX(-50%);border-radius:12px}
.layer.bottom{bottom:24px;width:260px;height:80px;background:#ffbdbd}
.layer.top{bottom:86px;width:220px;height:60px;background:#ffd9b6}
.frosting{position:absolute;bottom:120px;left:50%;transform:translateX(-50%);width:220px;height:36px;border-radius:18px;background:linear-gradient(90deg,#fff7a6,#fff1f1);box-shadow:inset 0 -6px 12px rgba(0,0,0,0.04)}

.candles{position:absolute;bottom:160px;left:0;right:0;pointer-events:none}
.candle{position:absolute;width:8px;height:36px;background:#fff3;left:50%;transform:translateX(-50%);border-radius:4px;border:2px solid #ffd;box-shadow:0 2px 6px rgba(0,0,0,0.08)}
.candle::after{content:'';position:absolute;top:-12px;left:50%;transform:translateX(-50%);width:12px;height:12px;background:linear-gradient(90deg,#ffde7a,#ff8b8b);border-radius:50%;box-shadow:0 0 8px rgba(255,170,85,0.8)}

/* Balloons */
.balloons{position:absolute;left:8%;top:0;right:8%;height:320px;pointer-events:none}
.balloon{position:absolute;width:60px;height:80px;border-radius:50% 50% 45% 45%;opacity:0.95}
.b1{left:10%;background:linear-gradient(180deg,#ff9a9e,#fecfef);animation:float 6s ease-in-out infinite}
.b2{left:25%;background:linear-gradient(180deg,#a18cd1,#fbc2eb);animation:float 5.5s 0.2s infinite}
.b3{left:40%;background:linear-gradient(180deg,#f6d365,#fda085);animation:float 6.5s 0.1s infinite}
.b4{left:60%;background:linear-gradient(180deg,#84fab0,#8fd3f4);animation:float 5.8s 0.15s infinite}
.b5{left:80%;background:linear-gradient(180deg,#cfd9df,#e2ebf0);animation:float 6.2s 0.05s infinite}
.balloon::after{content:'';position:absolute;left:50%;bottom:-22px;width:2px;height:22px;background:#444;transform:translateX(-50%);opacity:0.18}

@keyframes float{
    0%{transform:translateY(0) translateX(0)}
    50%{transform:translateY(-28px) translateX(6px)}
    100%{transform:translateY(0) translateX(0)}
}

/* Confetti canvas full overlay */
.confetti{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}

.foot{margin-top:18px;color:#666;font-size:0.95rem}

/* Responsive */
@media (max-width:520px){
    .title{font-size:2rem}
    .cake{width:200px;height:150px}
    .plate{width:260px}
}